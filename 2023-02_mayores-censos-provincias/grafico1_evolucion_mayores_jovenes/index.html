<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Visualización de Envejecimiento en Red (CSIC)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <section class="chart-main">
        <section class="container container-chart active" id="chartBlock">
            <!-- Título y subtítulo -->
            <div class="bl-title">
                <h1>Prueba de título largo para comprobar include HTML responsivo con gráfico en Datawrapper</h1>
                <h3>Prueba de subtítulo para visualización</h3>
            </div>
    
            <!-- Visualización DW -->
            <div class="bl-chart" id="chartDw">
                <!-- INICIO - Seleccionar opción 'Responsive iframe' - Incluir un ID -->
                <iframe title="" aria-label="Interactive line chart" id="datawrapper-chart-ywJkX" src="https://datawrapper.dwcdn.net/ywJkX/9/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="500" data-external="1"></iframe>
                <script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
                <!-- FINAL -->
                <!-- INICIO - Opción Flourish -->
                <!-- <div class="flourish-embed flourish-bar-chart-race" data-src="visualisation/1093194">
                    <script src="https://public.flourish.studio/resources/embed.js"></script>
                </div>
                <!-- FINAL -->
                
                <!-- INICIO - Incluir imagen .png (almacenada en el propio repositorio) para descarga -->
                <img class="chart-img" src="https://raw.githubusercontent.com/EnvejecimientoEnRed/base-template-dw/main/prueba.png" alt="Visualización de Datawrapper" width="100%" height="420px">
                <!-- FINAL -->
            </div>
    
            <!-- Notas asociadas al gráfico -->
            <div class="bl-info">
                <div class="bl-notes">
                    <p><b>Fuente:</b> Censos de población, Cifras de población serie 1900-2021, Instituto Nacional de Estadística (INE)</p>
                    <p><b>Elaboración:</b> Laboratorio de Estadísticas Experimentales (IEGD-CSIC)</p>
                </div>
                <!-- Logos > Estas imágenes se pueden alojar donde mejor convenga. En esta prueba cojo dos de un repositorio ya existente en Github). Se puede trabajar con lo actual sin problema. -->
                <div class="bl-logos">
                    <a href="https://envejecimientoenred.csic.es/" target="_blank" rel="noopener"><img class="logo_enr" src="https://raw.githubusercontent.com/EnvejecimientoEnRed/base-template-dw/main/logos/nuevo_logo_enr.jpeg" alt="Logo de Envejecimiento en Red" width="100%" height="100%"></a>
                    <a href="https://www.csic.es/es" target="_blank" rel="noopener"><img class="logo_csic" src="https://raw.githubusercontent.com/EnvejecimientoEnRed/base-template-dw/main/logos/logotipo_csic.png" alt="Logo del Consejo Superior de Investigaciones Científicas" width="100%" height="100%"></a>
                </div>
            </div>
            <p class="bl-copyright">
                <a class="link" href="" target="_blank">CC BY 4.0</a>
            </p>
        </section>
        <section class="container container-data">
            <h1 class="margin-bottom">Notas al gráfico, repositorio de código y datos y posibilidad de descarga como imagen estática</h1>
            <h3>Notas al gráfico</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum doloremque impedit inventore quos veritatis odit temporibus nam amet sint possimus. Dolore doloribus ratione animi. Sapiente minus maiores placeat distinctio aspernatur.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut, vel dolore dolores, quaerat ipsa cupiditate dolorum accusantium dicta distinctio sequi laudantium accusamus ab ea harum eligendi minus! Consectetur, rem commodi.</p>
            <h3>Descarga de datos</h3>
            <p>Los datos procesados en esta visualización los puede encontrar en <a class="link" href="https://github.com/EnvejecimientoEnRed/base-template-dw" target="_blank">este repositorio de Github</a>.</p>
            <p>Si desea descargarlos, puede hacerlo desde <a class="link" href="https://raw.githubusercontent.com/EnvejecimientoEnRed/base-template-dw/main/prueba.csv" target="_blank">aquí</a>.</p>
            <h3>Descargar como PNG</h3>
            <p>También puede descargar el gráfico como una imagen .png haciendo click <button class="btn_share" id="pngImage">aquí</button>.</p> 
        </section>
        <section class="container container-iframe">
            <h1 class="margin-bottom">Uso del iframe en sitios web</h1>
            <h3>Embeber iframe con alto dinámico</h3>
            <p>A la hora de utilizar la visualización dentro de un iframe y poder visualizarla de forma responsiva, este desarrollo se sirve de la librería <a class="link" href="http://blog.apps.npr.org/pym.js/" target="_blank">Pym.js</a>, que modifica de forma dinámica la altura de los iframes.</p>
            <p>Si su sitio web acepta el uso de librerías de terceros, como es el caso de Pym.js, y desea disponer la opción responsiva de esta visualización, copie el siguiente código:</p>
            <textarea class="text-iframe margin-bottom" disabled="" id="iframe-responsive"></textarea>
            <h3>Embeber iframe con alto fijo</h3>
            <p>Si su sitio web no acepta iframes responsivos, puede utilizar el siguiente código con altura fija. Es posible que exista scroll vertical al incrustar el iframe en su página web.</p>             
            <p>Si desea integrar esta visualización en su propia página, puede hacerlo copiando el siguiente código:</p>
            <textarea class="text-iframe" disabled="" id="iframe-fixed"></textarea>
        </section>
        <section class="container container-rrss">
            <h1 class="margin-bottom">Compartir en redes sociales</h1>
            <p>Existe la posibilidad de compartir la visualización a través de las redes sociales. Puede hacerlo clicando en alguno de los siguientes iconos:</p>
            <div class="rrss">
                <a href="#" class="fa fa-facebook" id="shareFB" target="_blank"></a>
                <a href="#" class="fa fa-twitter" id="shareTW" target="_blank"></a>
                <a href="#" class="fa fa-linkedin" id="shareLK" target="_blank"></a>
                <a href="#" class="fa fa-whatsapp" id="shareWA" target="_blank"></a>
            </div>
        </section>
        <!-- PESTAÑAS -->
        <nav class="bl-tabs">
            <ul class="tabs">
                <li class="tab active" data-target="container-chart">Gráfico</li>
                <li class="tab" data-target="container-data"><span class="tab-text" id="dataText">Notas y datos</span>&nbsp;<i class="fa fa--share fa-download"></i></li>
                <li class="tab" data-target="container-iframe">Embeber</li>
                <li class="tab tab-rrss" data-target="container-rrss"><i class="fa fa--share fa-share-alt"></i></li>
            </ul>
        </nav>
    </section>
    
    <!-- SCRIPTS (PYMJS y HTML2CANVAS)-->
    <script src="https://pym.nprapps.org/pym.v1.min.js"></script>
    <script>var pymChild=new pym.Child();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- SCRIPT PROPIO -->
    <script src="./index.js"></script>
</body>
</html>